<html>
<head>
<style>
.product-view{
    border-style: solid;
    margin-bottom: 25px;
    width: 150px;
    display: inline-block;
    margin-right: 10px;
    min-height: 250px;
    
}
.styled-name{
    font-size: 25px;

}
.product-with-discount{
    color:red;
    font-weight: 1200;
    font-size: 25px;
}
.cut-price{
    text-decoration: line-through;
}

</style>

</head>

<body>
    <div id="content"></div>
<script>


let products = [
	{
		id: 1,
		price: 200,
		cut_price: 165.99,
		categ_name: 'Tricouri',
		name: 'Tricou copii',
		stock: 10,
		cut_price_until: '2021-07-29',
		warehouse: 'Iasi'	
	},
	{
		id: 2,
		price: 250,
		cut_price: 175,
		categ_name: 'Haine',
		name: 'haine de ploaie impremeabila culoare verde',
		stock: 10,
		cut_price_until: '2021-07-28',
		warehouse: 'Botosani'	
	},
	{
		id: 3,
		price: 2000,
		cut_price: 1650,
		categ_name: 'Haine',
		name: 'Haina de vara super cool',
		stock: 20,
		cut_price_until: '2021-07-29',
		warehouse: 'Iasi'	
	},
	{
		id: 4,
		price: 2500,
		cut_price: 959,
		categ_name: 'Tricouri',
		name: 'tricou lacoste for man',
		stock: 100,
		cut_price_until: '2021-08-04',
		warehouse: 'Alba'	
	},
	{
		id: 5,
		price: 200,
		cut_price: 165,
		categ_name: 'Hanorace',
		name: 'hanorac adidas clima cool',
		stock: 10,
		cut_price_until: '2021-07-29',
		warehouse: 'Iasi'	
	},
	{
		id: 6,
		price: 200,
		cut_price: 165,
		categ_name: 'Hanorace',
		name: 'hanorac adidas 2021',
		stock: 10,
		cut_price_until: '2021-07-29',
		warehouse: 'Iasi'	
	},
	{
		id: 7,
		price: 200,
		cut_price: 165,
		categ_name: 'Tricouri',
		name: 'tricou jordan',
		stock: 10,
		cut_price_until: '2021-07-29',
		warehouse: 'cluj'	
	},

	{
		id: 8,
		price: 250,
		cut_price: 200,
		categ_name: 'Tricouri',
		name: 'tricou A',
		stock: 10,
		cut_price_until: '2021-07-29',
		warehouse: 'Iasi'	
	},
	{
		id: 1,
		price: 200,
		cut_price: 165,
		categ_name: 'Tricouri',
		name: 'tricou de bumbac barbati',
		stock: 10,
		cut_price_until: '2021-07-29',
		warehouse: 'Iasi'	
	},
	{
		id: 1,
		price: 200,
		cut_price: 165,
		categ_name: 'Tricouri',
		name: 'tricou de bumbac dama',
		stock: 10,
		cut_price_until: '2021-07-29',
		warehouse: 'Craiova'	
	},
	{
		id: 1,
		price: 200,
		cut_price: 165.55,
		categ_name: 'Hanorace',
		name: 'hanorac Jordan',
		stock: 10,
		cut_price_until: '2021-07-29',
		warehouse: 'Oradea'	
	},

]


function generateProductsList(products){
    let html = ""

	let T_shirts = products.filter(function(product) {return product.categ_name == "Tricouri"})
	console.log(T_shirts, "T_shirts")

	let hoods = products.filter(function(product) {return product.categ_name == "Hanorace"})

	let clothes = products.filter(function(product) {return product.categ_name == "Haine"})


	html += generateCategoryWithProducts(T_shirts, "Tricouri")
	html += generateCategoryWithProducts(hoods, "Hanorace")
	html += generateCategoryWithProducts(clothes, "Haine")
	

	document.getElementById("content").insertAdjacentHTML("afterend", html)
}

generateProductsList(products)



function generateCategoryWithProducts(product, type){
	
	let output = `<hr>${type}</hr>`

	for(let i=0; i<=product.length-1; i++){
		output += `<div class="product-view">`
		output += `<div class="styled-name">${product[i].name}</div>`

		let supra = "00"
		let price = ""

		if(product[i].cut_price.toString().includes(".")){
			let cut_price_parts = product[i].cut_price.toString().split(".")
			supra = cut_price_parts[1]
			price = cut_price_parts[0]
			console.log(cut_price_parts, "cut_price_parts")

		} else {
			price = product[i].cut_price
		}

		output += `<div><span class="product-with-discount">${price}<sup>${supra}</sup></span>|<span class="cut-price">${price}<sup>${supra}</sup></span></div>`
		output += `<div>${product[i].warehouse}</div>`
		output += `<div>${product[i].stock}</div>`
		output += `<div><i>${product[i].cut_price_until}</i></div>`
		output += `</div>`

	}

	output += `<hr>`
	return output
}





</script>
</body>
</html>